document.addEventListener("DOMContentLoaded",function(){$("body").on("click",".modal .ai_fill",function(a){$(a.target).addClass("load");let fields=[];let titles=[];$(".modal .form > div").each(function(b,c){if($(c).children(".slide_set").length===0&&$(c).children(".aio_upload").length===0){let id=$(c).find(".lbl").attr("for");let label=$(c).find(".lbl").text().replaceAll("*","").replaceAll("Code","");let key=$(c).find(".lbl").next().data("key");titles.push(label);if($(c).children(".phone_set").length!==0){id=$(c).find(".phone_set > div:nth-child(2) .lbl").attr("for");key="phone"}if($(c).find(".dater").length!==0){id=$(c).find("> input").attr("id");key="date"}fields.push({label:label,id:id,key:key})}});let form_title=$(a.target).parent().parent(".modal").find("h2.title:nth-child(1)").text().replaceAll("Add ","");let prompt="Filling form to add "+form_title+", suggest me random, not previously suggested and realistic text to fill each of "+titles.join(",")+". Strictly respond as single array without any commentary.";console.log(prompt);$.ajax({type:"POST",url:location.origin+"/google_gemini",data:{prompt:prompt},success:function(b){console.log(b);b=b.replaceAll("```","").replaceAll("json","");b=JSON.parse(b);if(Array.isArray(b)){$.each(fields,function(c,d){if(typeof b[c]==="string"||b[c] instanceof String){if(fields[c]["key"]==="phone"){$("#"+d.id).val(parseInt(b[c]))}else{$("#"+d.id).val(b[c]).change()}}})}$(a.target).removeClass("load")},error:function(b){console.log(b);$(a.target).removeClass("load")}});setTimeout(function(){},1000)})});