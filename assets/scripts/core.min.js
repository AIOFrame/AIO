var domain;$(document).ready(function(){$(document).on("click","[data-action], [data-show], [data-on], [data-off], [data-hide], [data-slide], [data-remove], [data-toggle], [data-resetsrc], [data-resetinput], [data-click], [data-href]",function(f){if($(this).data("togglescroll")===true){scroll_lock()}if($(this).data("blur")===true){blurred()}if($(this).data("targettoggleclass")){$($(this).data("hide")).toggleClass($(this).data("targettoggleclass"));$($(this).data("action")).toggleClass($(this).data("targettoggleclass"));$($(this).data("show")).toggleClass($(this).data("targettoggleclass"))}$($(this).data("on")).toggleClass("on");$($(this).data("off")).removeClass("on");$($(this).data("remove")).remove();$($(this).data("hide")).hide();$($(this).data("show")).show();$($(this).data("toggle")).toggle();$($(this).data("slide")).slideToggle();$($(this).data("resetsrc")).attr("src","");$($(this).data("resetinput")).val("");$($(this).data("click")).click();if($($(this).data("show")).hasClass("modal")&&$($(this).data("show")).data("fade")===undefined){$("article").addClass("fade")}if($($(this).data("on")).hasClass("modal")&&$($(this).data("on")).data("fade")===undefined){$("article").addClass("fade")}if($(this).data("href")){if($(f.target).data("prevent-default")===undefined){location.href=$(this).data("href")}}}).on("change","[data-check]",function(){var e=$(this).is(":checked")?"true":"false";$($(this).data("check")).val(e)}).on("click",".aio_dynamics .add",function(){var e=$(this).parents(".aio_dynamics").prev("input").data("dyn");$(this).parents(".aio_dynamics").find(".fields").append(e)}).on("click",".aio_dynamics .trash",function(){$(this).parents(".field_set").remove()}).on("change keyup",".aio_dynamics input",function(){var e=[];$.each($(this).parents(".aio_dynamics").find(".field_set"),function(g,f){e.push(get_values(f))});elog(e);$(this).parents(".aio_dynamics").prev("input").val(JSON.stringify(e))});$("body").on("click","[data-color-picker]",function(){$(".color_picker_wrap").addClass("on");init_color_picker($(this))}).on("click",".color_picker_wrap .close",function(){$(".color_picker_wrap").removeClass("on")});if($("[data-color-picker]").length>0){$('<div class="color_picker_wrap"><div class="close"></div><div class="color-picker"></div></div>').appendTo("body")}restore_scroll();store_scroll();var d=location.href.replace(location.origin+"/","").replace("/","_");var b=localStorage[d+"_tab"];if(b!==undefined){setTimeout(function(){$('[data-t="'+b+'"]').click()},200)}$("body").on("click",".steps [data-t], [data-t]",function(){$(this).parent().children().removeClass("on");$(this).addClass("on");$($(this).data("t")).parent().children().hide();$($(this).data("t")).show();if($(this).parent().data("store-tab")!==undefined){localStorage[d+"_tab"]=$(this).data("t")}}).on("click","[data-step]",function(){$(this).parent().children().removeClass("on");$(this).addClass("on");$($(this).data("step")).parent().children().hide();$($(this).data("step")).show()});$(".steps .next").on("click",function(){$($(this).parents(".steps")).find("[data-t].on").next().click()});$(".steps .prev").on("click",function(){$($(this).parents(".steps")).find("[data-t].on").prev().click()});$("[data-dynamic]").each(function(f,e){var h='<div class="field_set"><div class="trash"></div>';var g=0;$.each($(e).data("dynamic"),function(j,i){g++;h+='<div class="set">';if(i[0]==="text"){h+='<label for="'+i[1]+"_"+g+'">'+i[2]+'</label><input type="'+i[0]+'" placeholder="'+i[2]+'" id="'+i[1]+"_"+g+'">'}else{if(i[0]==="div"){h+='<div class="'+i[1]+'">'+location.href+"page</div>"}else{if(i[0]==="checkbox"||i[0]==="radio"){h+='<input type="'+i[0]+'" id="'+i[1]+"_"+g+'"><label for="'+i[1]+"_"+g+'">'+i[2]+"</label>"}}}h+="</div>"});h+="</div>";$('<div class="aio_dynamics"><div class="fields">'+h+'</div><div class="btn add">+</div></div>').insertAfter($(e));$(this).data("dyn",h).hide()});$("body").on("click","a .prevdef",function(f){});$(".modal .close").on("click",function(){$(this).parents(".modal").removeClass("on");var e=true;$(".modal").each(function(g,f){if($(f).hasClass("on")){e=false}});if(e){$("article").removeClass("fade")}reset_modal($(this))});$("#notification .close, #alert .close").on("click",function(){$(this).parents("#notification,#alert").removeClass("on")});if(typeof ClipboardJS==="function"){var c=new ClipboardJS("[data-clipboard-target],[data-clipboard-text]");c.on("success",function(f){notify("Copied!",1)});c.on("error",function(f){elog("Action:",f.action);elog("Trigger:",f.trigger)})}if($.fn.select2!==undefined){$("select.easy, select.select2").select2({width:"100%"})}var a=$(".context-menu");if(a.length>0){$(a).on("click",function(){$(this).hide()});document.addEventListener("contextmenu",function(g){var f=g.clientX;var h=g.clientY;g.preventDefault();$(a).css({left:f,top:h,display:"block"})})}$("body").on("click","[data-lang]",function(){var f=$("[data-lang].on").data("lang");var e=$(this).data("lang");var g={action:"get_translations",languages:[f,e],method:"json"};elog(e);post("set_language",{lang:e},"",1)}).on("change","[data-languages]",function(){var e=$(this).val();$.post(location.origin,{action:"set_language",lang:e},function(f){notify("Language Changed!");reload(3)})});$("body").on("change","select[data-states]",function(){var e=$($(this).data("states"));if($(this).data("states")!==""){$.post(location.origin,{action:"states",id:$(this).val()},function(f){if(f=JSON.parse(f)){if($.isArray(f)){elog(f);var g="";$.each(f,function(h,j){g+='<option value="'+j+'">'+j+"</option>"});$(e).html(g);if($(e).hasClass("select2")){$(e).select2("destroy").select2({width:"100%"})}}}})}});$.each($("[data-ml]"),function(f,e){$(e).css({"margin-left":$(e).data("ml")})});$("body").on("keyup","input.fn",function(){var e=format_number($(this).val());$(this).val(e)});$(".fn:not(input)").each(function(g,h){var f=format_number($(h).html());$(this).html(f)});$("input[data-no-space]").on({keydown:function(f){if(f.which===32){return false}},change:function(){this.value=this.value.replace(/\s/g,"")}});appdebug=$("body").hasClass("debug")?true:false});$(document).mouseup(function(b){var a=$(".color_picker_wrap");if(!a.is(b.target)&&a.has(b.target).length===0){a.removeClass("on").children(".color-picker").html("")}});function scroll_to(a,b,c){c=c!==undefined&&c!==""?c:1000;b=b!==undefined&&b!==""?b:"html,body";if(!$(b).data.scrollbar){$(b).animate({scrollTop:$(a).offset().top},c)}else{const d=Scrollbar.init($(b)[0]);d.scrollIntoView($(a)[0])}}function format_number(b){return b.toLocaleString()}function init_color_picker(d){var c=$(".color-picker");$(d).data("value")!==undefined?$(c).data("value",$(d).data("value")):$(c).data("value",$(d));$(d).data("background")!==undefined?$(c).data("background",$(d).data("background")):$(c).data("background",$(d));var b={};b.color=$(d).val()!==""&&$(d).val()!==undefined?$(d).val():"#fff";b.width=$(d).data("width")!==""&&$(d).data("width")!==undefined?$(d).data("width"):"200";var a=new iro.ColorPicker(".color-picker");a.on("color:change",onColorChange)}function onColorChange(a){var b=$(".color-picker");$(b).data("value")!==undefined?$($(b).data("value")).val(a.hexString):"";$(b).data("background")!==undefined?$(b).data("background").css({"background-color":a.hexString}):""}function fn(b){return format_number(b)}function unformat_number(b){return parseFloat(b.replace(/[($)\s\._,\-]+/g,""))}function ufn(b){return unformat_number(b)}function store_scroll(){var a;$("[data-save-scroll]").on("scroll",function(b){clearTimeout(a);a=setTimeout(function(){var c=$($(b)[0].target).attr("id");if(c!==undefined){localStorage[c+"_scroll"]=$($(b)[0].target).scrollTop()}},250)})}function restore_scroll(){$("[data-save-scroll]").each(function(d,c){if($(c).attr("id")!==undefined){var e=localStorage[$(c).attr("id")+"_scroll"];$(c).scrollTop(e)}})}function goto_step(b,a){$(b).find(".step:nth-child("+a+")").click()}function next_step(a){$(a).find(".on").next().click()}function prev_step(a){$(a).find(".on").prev().click()}function empty(b,c){c=c===undefined||c===""?"":"[data-"+c+"]";if($(b)[0]&&($(b)[0].localName==="div"||$(b)[0].localName==="tr")){var a=[];$.each($(b).find("input"+c+",select"+c),function(e,d){if(d!==undefined&&$(d).val()!==null&&$(d).val()!==""){a.push(false)}else{elog(d);a.push(true)}});return $.inArray(true,a)!==-1?true:false}else{if($(b).val().length>0){return false}else{return true}}}function sempty(c,f){f=f===undefined||f===""?"":"[data-"+f+"]";var a;if($(c)[0]&&($(c)[0].localName==="div"||$(c)[0].localName==="tr")){var b=[];$.each($(c).find("input"+f+",select"+f),function(e,d){if(d!==undefined&&$(d).val()!==null&&$(d).val()!==""){$(d).removeClass("empty");b.push(false)}else{$(d).addClass("empty");b.push(true);if($(c).data("empty-notify")!==undefined&&$(c).data("empty-notify")!==""){notify($(c).data("empty-notify"))}}});a=$.inArray(true,b)!==-1?true:false}else{if($(c).val()!==null&&$(c).val()!==""){$(c).removeClass("empty");a=false}else{$(c).addClass("empty");a=true}if(a&&$(c).data("empty-notify")!==undefined&&$(c).data("empty-notify")!==""){notify($(c).data("empty-notify"))}}return a}function clear(a){$(a).val("")}function valid_email(b){var a=/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;return !a.test($(b).val())}function svalid_email(b){var a=valid_email(b);!a?$(b).removeClass("empty"):$(b).addClass("empty");if(a&&$(b).data("valid-email-notify")!==undefined&&$(b).data("valid-email-notify")!==""){notify($(b).data("valid-email-notify"))}return a}function slength(c,a){var b=$(c).val().length>=a;b?$(c).removeClass("empty"):$(c).addClass("empty");if(!b&&$(c).data("length-notify")!==undefined&&$(c).data("length-notify")!==""){notify($(c).data("length-notify"))}return !b}function get_values(d,a,c){c=c!==undefined&&c!==""?c+"_":"";a=a!==undefined&&a!==""?"[data-"+a+"]":"";var b={};$(d).find(":input"+a+":not(:button)","select"+a,"textarea"+a).each(function(){var e;e=$(this).hasClass("fn")?ufn($(this).val()):$(this).val();if($(this).attr("type")==="checkbox"){e=$(this).is(":checked");if(e===true){e=1}else{if(e===false){e=0}}}else{if($(this).attr("type")==="radio"){k=$(this).is(":checked")?$(this).attr("name"):"";k=$(this).data("key")!==undefined?$(this).data("key"):k;e=$("input[name="+$(this).attr("name")+"]:checked").val();b[c+k]=e;return true}else{if($(this).is("select")&&$(this).attr("multiple")!==undefined){e=$(this).val().join(", ")}}}if($(this).data("key")!==undefined){b[c+$(this).data("key")]=e}else{if($(this).attr("id")!==undefined){b[c+$(this).attr("id")]=e}else{b[c+$(this).attr("class")]=e}}elog($(this).attr("id"));elog(e)});elog(b);return b}function get_checkbox_values(b,a){var c=[];$("[name="+b+"]").each(function(e,d){$(d).is(":checked")?c.push($(d).val()):""});if(a){return c.join(", ")}else{return c}}function clear_values(b,a){if(a===""||a===undefined){$(b).find(":input:not(:button)","select","textarea").each(function(){$(this).val("").trigger("chosen:updated")})}else{$(b).find(":input[data-"+a+"]:not(:button)","select[data-"+a+"]","textarea[data-"+a+"]").each(function(){$(this).val("").trigger("chosen:updated")})}}var appdebug=$("body").hasClass("debug")?true:false;function process_data(f){var c=$(f).parents("[data-t]");c.addClass("load");var h=$(c).data("title");var b=$(c).data("pre");if($(c).data("sempty")!==""&&$(c).data("sempty")!==undefined){if(sempty(c,$(c).data("sempty"))){$(c).removeClass("load");$(f).attr("disabled",false);return}}var g=get_values(c,b,b);g.action=$(f).data("action")!==undefined&&$(f).data("action")!==""?$(f).data("action"):"process_data";g.target=$(c).data("t");g.pre=b;var a=Array("id","by","action","h","d","dt");$.each(a,function(d,e){if($(c).data(e)!==undefined&&$(c).data(e)!==""){g[e]=$(c).data(e)}});post(g.action,g,c.data("notify"),c.data("reload"),c.data("redirect"),0,c.data("callback"),c.data("reset"))}function process_finish(a){}function edit_data(f,c,a){var b=$(f).data("t")?$($(f).data("t")):$(c);var d=$(f).data("data");if(a!==undefined){$(b).addClass("on")}$("article").addClass("fade");$.each($(c).find("button,h1,h2,h3,h4,h5,h6,span,i,p"),function(g,e){if($(e).html().indexOf("Add")>=0){$(e).html($(e).html().replace("Add","Update"))}if($(e).html().indexOf("ADD")>=0){$(e).html($(e).html().replace("ADD","UPDATE"))}});$.each(d,function(e,g){if(e==="id"){b.addClass("on").data("id",g)}else{if($("#"+e).attr("type")==="checkbox"){g==="1"||g===true?$("#"+e).prop("checked",true):$("#"+e).prop("checked",false)}if($("#"+e).prop("type")=="select-multiple"){var g=$.map(g.split(","),function(h){return parseInt(h)});$("#"+e).val(g).change()}else{$("#"+e).val(g).change()}}});if(typeof files_ui==="function"){files_ui()}if(typeof file_ui==="function"){file_ui()}}function reset_modal(a){$.each($(a).parents(".modal").find("button,h1,h2,h3,h4,h5,h6,span,i,p"),function(d,c){if($(c).html().indexOf("Update")>=0){$(c).html($(c).html().replace("Update","Add"))}if($(c).html().indexOf("UPDATE")>=0){$(c).html($(c).html().replace("UPDATE","ADD"))}});$(a).parents(".modal").data("id","")}function trash_data(a){var b={action:"trash_data",query:a};elog(b);if(confirm("Are you sure to delete ?")){post("trash_data",{query:a},2,2)}}function elog(a){if(appdebug){if(window.console){if(Function.prototype.bind){elog=Function.prototype.bind.call(console.log,console)}else{elog=function(){Function.prototype.apply.call(console.log,console,arguments)}}elog.apply(this,arguments)}}}function getParam(a){let p=new URLSearchParams(window.location.search);return p.get(a)}function alerted(a){}function notify(b,a){a=a!==undefined&&a!==""&&a>0?a*1000:6000;$("#notification").addClass("on").children("div").not(".close").html(b);setTimeout(function(){$("#notification").removeClass("on")},a)}function slide_toggle(b,a){$("body").on("click",b,function(){$(this).find(a).slideToggle()})}function reload(b){var a=b!==undefined&&b!==""?b*1000:5000;setTimeout(function(){location.reload()},a)}function post(action,data,notify_time,reload_time,redirect,redirect_time,callback,reset){if(callback!==undefined&&callback!==""&&callback.indexOf("recaptcha")>=0){var site_key=$("script[data-recaptcha]").attr("src").replace("https://www.google.com/recaptcha/api.js?render=","");if(site_key!==""&&site_key!==undefined&&site_key!==null){grecaptcha.ready(function(){grecaptcha.execute(site_key,{action:"recaptcha_verify"}).then(function(t){data.recaptcha_token=t;post(action,data,notify_time,reload_time,redirect,redirect_time,callback.replace("recaptcha,","").replace("recaptcha",""),reset)})})}return}elog(callback);var d=$.extend({},{action:action},data);$.post(location.origin,d,function(r){elog(r);try{r=JSON.parse(r);elog(r);if(notify_time!==undefined&&notify_time!==""){notify(r[1],notify_time)}if(r[0]!==0&&reload_time!==undefined&&reload_time!==""&&reload_time!=="0"){$.isNumeric(reload_time)?setTimeout(function(){location.reload()},reload_time*1000):location.href=reload_time}if(r[0]!==0&&reset!==undefined&&reset!==""&&reset!=="0"){$("[data-"+reset+"]").val("")}if(callback!==undefined&&callback!==""){callback=callback.split(",");$.each(callback,function(i,call){if(call!=="recaptcha"){eval(call+"("+JSON.stringify(r)+")")}})}if(redirect!==undefined&&redirect!==""){redirect_time=redirect_time!==undefined&&redirect_time!==""?redirect_time:0;if(r[0]!==0){setTimeout(function(){location.href=redirect},redirect_time*1000)}}}catch(rat){elog(rat)}})}function search_filter(b,a,d){}function page_warning(a){console.log("%c"+a,'width:100%;background:#fff;border-radius:6px;box-shadow:0 0 15px rgba(0,0,0,.2);font-size:22px;padding:40px;text-align:center;color:#000;font-family:"Lato",sans-serif;font-weight:400;margin:20px;')}function is_mobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)};