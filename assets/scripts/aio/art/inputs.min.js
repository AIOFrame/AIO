window.addEventListener("DOMContentLoaded",function(){$(document).on("change","[type=checkbox].slide,[data-check],[data-bool],[data-boolean]",function(){let v=$(this).is(":checked")?"1":"2";$(this).val(v)}).on("change","[data-hidden-date]",function(){let date=new Date($(this).val());$($(this).data("alt")).val([("0"+date.getDate()).slice(-2),("0"+date.getMonth()).slice(-2),date.getFullYear()].join("-")).trigger("change")}).on("keyup","[data-visible-date]",function(){let v=$(this).val();let date=new Date(v.slice(6,10)+"-"+v.slice(3,5)+"-"+v.slice(0,2));$($(this).attr("alt")).val([date.getFullYear(),("0"+(date.getMonth()+1)).slice(-2),("0"+date.getDate()).slice(-2)].join("-"))}).on("change","[type=number][data-step]",function(b){let step=$(this).data("step");let val=parseInt($(this).val());if(b.key==="ArrowUp"){b.preventDefault();$(this).val(val+step)}else{if(b.key==="ArrowDown"){b.preventDefault();$(this).val(val-step)}}}).on("select2:open",".icon_picker select",function(b){let font=$(b.target).data("font");$(".select2-container--open:not(.select2-container--below)").addClass("icon_picker "+font)}).on("select2:closing","select",function(b){$(".select2-container").removeClass("icon_picker")}).on("change","[data-rich-text]",function(b){$(b.currentTarget).trumbowyg("destroy");$(b.currentTarget).trumbowyg({autogrow:true})});if(typeof $.fn.trumbowyg==="function"){$("[data-rich-text]").trumbowyg({autogrow:true})}if(typeof ClipboardJS==="function"){let clipboard=new ClipboardJS("[data-clipboard-target],[data-clipboard-text]");clipboard.on("success",function(b){notify("Copied!",1)});clipboard.on("error",function(b){console.log("Action:",b.action);console.log("Trigger:",b.trigger)})}$("select.easy, select.select2").each(function(d,c){select_init(c)});if($.fn.select2!==undefined){}if($.fn.tagComplete!==undefined){$("[data-tags]").each(function(d,c){$(c).tagComplete()})}$("body").on("keyup","input.fn",function(){let a=format_number($(this).val());$(this).val(a)});$(".fn:not(input)").each(function(b,c){let a=format_number($(c).html());$(this).html(a)});if(typeof AirDatepicker!=="undefined"){date_picker()}});function select_init(b){let select_config={width:"100%"};if($(b).data("no-search")!==undefined){select_config.minimumResultsForSearch=-1}select_config.closeOnSelect=$(b).data("auto-close")!==undefined;if($(b).data("template")!==undefined){select_config.templateResult=$(b).data("template")}$(b).select2(select_config)}let dateLocaleEn={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"yyyy-mm-dd",timeFormat:"hh:ii aa",firstDay:0};function date_picker(b){let e=b!==undefined?b:$(".dater").not("[data-ignore]");$(e).each(function(c,d){if($(d).parents("[data-ignore-fields]").length>0){return}let config={locale:dateLocaleEn,autoClose:true,onSelect:function(f,h,g){$(d).trigger("change")}};if($(d).attr("multiple")!==undefined){config.multipleDates=true}if($(d).attr("multiple")!==undefined){config.multipleDates=true;config.multipleDatesSeparator=$(d).attr("range")!==undefined?"|":", "}if($(d).attr("range")!==undefined){config.range=true;config.multipleDatesSeparator=$(d).attr("range")!==undefined?"|":", "}if($(d).attr("min")!==undefined){config.minDate=$(d).attr("min");console.log($(d).attr("min"))}if($(d).attr("max")!==undefined){config.maxDate=$(d).attr("max")}config.position=$(d).attr("position")!==undefined?$(d).attr("position"):"top center";config.view=$(d).attr("view")!==undefined?$(d).attr("view"):"days";config.dateFormat=$(d).attr("format")!==undefined?$(d).attr("format"):"dd-MM-yyyy";config.altField=$(d).attr("alt")!==undefined?$(d).attr("alt"):false;config.altFieldDateFormat=$(d).attr("alt-format")!==undefined?$(d).attr("alt-format"):"yyyy-MM-dd";new AirDatepicker("#"+$(d).attr("id"),config)})}function format_number(b){return b.toLocaleString()}function fn(b){return format_number(b)}function unformat_number(b){return parseFloat(b.replace(/[($)\s\._,\-]+/g,""))}function ufn(b){return unformat_number(b)};