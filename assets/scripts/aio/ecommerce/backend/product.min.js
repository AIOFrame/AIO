document.addEventListener("DOMContentLoaded",function(){let var_el=$('[data-tab="#variations_data"],#variations_data');$("body").on("click","[data-edit-action]",function(){let p=$(this).data("data");let props=p.props;let meta=p.meta;$.each(props,function(b,a){$('[data-keyed-array="properties"][data-key='+a.prod_pr_type+"][value="+a.prod_pr_meta+"]").attr("checked",true)});let r=$("[data-product-wrap]").data("data");$.each(meta,function(b,a){$("[data-"+r+"][data-key="+b+"]").val(a)});if(p.type===2){$(var_el).removeClass("dn");$("#variations_wrap").find("[data-key=id]").val(p.id).attr("value",p.id);$("[data-var-template]").find("[data-key=id]").val(p.id).attr("value",p.id);let vars=p.vars;let i=1;$.each(vars,function(b,a){$("[data-add-var-action]").click();let props=a.prod_props;delete a.prod_props;let meta=a.prod_meta;delete a.prod_meta;let vw=$("[data-variations-wrap]>div:nth-child("+i+")");$(vw).find("[data-pv]").data("id",a.prod_id).attr("id",a.prod_id);$(vw).find("[data-trash-var]").data("id",a.prod_id).attr("id",a.prod_id);$.each(a,function(d,c){let input=$(vw).find("[data-key="+d.replaceAll("prod_","v_")+"]");if(input.length>0){$(input).val(c)}});$.each(meta,function(d,c){$(vw).find("[data-key=v_"+d+"]").val(c)});$.each(props,function(d,c){console.log(c.prod_pr_type);console.log(c.prod_pr_meta);$(vw).find('[data-array="v_properties"][data-key='+c.prod_pr_type+"]").val(c.prod_pr_meta)});i++})}else{$(var_el).addClass("dn");$("[data-variations-wrap],[data-var-template]").find("[data-key=id]").val("").attr("value","")}}).on("click",'[data-modal="#product_modal"]',function(){$(var_el).addClass("dn")}).on("change","[data-key=type]",function(){}).on("click","[data-add-var-action]",function(){let var_template=$("[data-var-template]").html();let acc_template=$("[data-acc-template]").html();let var_wrap=$("[data-variations-wrap]");var_template.replaceAll("dn","");acc_template=acc_template.replaceAll("{{var}}",var_template);var_wrap.append(acc_template);$(var_wrap).find(".select2-container").remove();select_init($(var_wrap).find("select"))}).on("click",".save_var",function(){}).on("click",".trash_var",function(){let confirm=$("[data-variations-wrap]").data("confirm");if(confirm(confirm)){$(this).parents("[data-variation-set]").remove()}}).on("click","#product_modal .close",function(){$('[data-tab="#description_data"]').click();$("#variation_wrap").html("")})});function variation_callback(a){if(a[0]===1){}};